# .htaccess
<IfModule mod_headers.c>
  # Always send on all responses (even 4xx/5xx)
  Header always set Access-Control-Allow-Origin "*"
  Header always set Access-Control-Allow-Methods "GET, POST, PUT, PATCH, DELETE, OPTIONS"
  Header always set Access-Control-Allow-Headers "Origin, X-Requested-With, Authorization, Content-Type, Accept"
  Header always set Access-Control-Max-Age "86400"
  # Optional: which response headers JS can read
  Header always set Access-Control-Expose-Headers "Content-Length, Content-Type, X-Request-Id"
</IfModule>

# Answer CORS preflights quickly with 204 No Content
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteCond %{REQUEST_METHOD} =OPTIONS
  RewriteRule ^ - [R=204,L]
</IfModule>
